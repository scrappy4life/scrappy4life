{
  "version": "1.0.0",
  "nodes": [
    {
      "name": "awash",
      "type": "thing:label",
      "x": 200,
      "y": 426,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffdbdb",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "Pontus",
      "id": "ahoy:bd823f79-e350-4914-8576-f08af9cc0f97"
    },
    {
      "name": "w7",
      "type": "thing:label",
      "x": 159,
      "y": 427,
      "width": 31,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "w7",
      "id": "ahoy:50891a21-fff6-4189-bbf0-56edf57c36b4"
    },
    {
      "name": "bottom_week",
      "type": "thing:number",
      "x": -268,
      "y": 483,
      "width": 87,
      "height": 24,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "value": 10,
      "enabled": true,
      "id": "ahoy:2cf2c9a8-9b2e-495a-afbc-8b3749bd3ad8"
    },
    {
      "name": "person_to_add",
      "type": "thing:text",
      "x": -169,
      "y": 482,
      "width": 100,
      "height": 24,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "value": "pontus",
      "allowsMultipleLines": false,
      "enabled": true,
      "id": "ahoy:054254fd-8161-4e35-bf5a-0f111c903d12"
    },
    {
      "name": "bletch",
      "type": "thing:button",
      "x": 160,
      "y": 590,
      "width": 144,
      "height": 26,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 4,
      "backgroundColor": "#efefef",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "center",
      "title": "Add Week",
      "enabled": true,
      "whenClicked": "const offset_y = 40;\nconst person_offset_x = 40;\n\nconst bottomWeek = system.get(\"w\" + bottom_week.value);\nconst newWeek = system.copy(bottomWeek.name);\nnewWeek.name = \"w\" + (bottom_week.value + 1);\nnewWeek.value = newWeek.name;\nnewWeek.x = bottomWeek.x\nnewWeek.y = bottomWeek.y + offset_y;\nbottom_week.value += 1;\n\nconst newPerson = system.copy(person_to_add.value);\nnewPerson.x = newWeek.x + person_offset_x;\nnewPerson.y = newWeek.y;\n\nperson_to_add.value = (person_to_add.value == \"john\") ? \"pontus\" : \"john\"; \n\nthis.y += offset_y;",
      "id": "ahoy:2c87c605-d8ab-4339-b62a-77e4605fa7fb"
    },
    {
      "name": "carol",
      "type": "thing:label",
      "x": -266,
      "y": 16,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "Label",
      "id": "ahoy:9277815f-10d4-492a-9890-2b02b17c29eb",
      "text": "w11"
    },
    {
      "name": "john",
      "type": "thing:label",
      "x": -263,
      "y": 579,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#e3c7ff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "John",
      "id": "ahoy:96305678-63b5-44ca-8afa-56a9af0b3d50"
    },
    {
      "name": "pontus",
      "type": "thing:label",
      "x": -263,
      "y": 618,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffdbdb",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "Pontus",
      "id": "ahoy:d9124954-de59-491f-b92c-24a08c0c4bb9"
    },
    {
      "name": "ham",
      "type": "thing:button",
      "x": -220,
      "y": 717,
      "width": 100,
      "height": 40,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 4,
      "backgroundColor": "#efefef",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "center",
      "title": "save",
      "enabled": true,
      "whenClicked": "system.save()",
      "id": "ahoy:1092c219-063a-4ff4-95f3-4fc0a3b36e13"
    },
    {
      "name": "w8",
      "type": "thing:label",
      "x": 159,
      "y": 467,
      "width": 31,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "w8",
      "id": "ahoy:f35cbec0-5489-469e-9c69-e95685369afa"
    },
    {
      "name": "anew",
      "type": "thing:label",
      "x": 199,
      "y": 467,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#e3c7ff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "John",
      "id": "ahoy:a1ebb841-07d0-4840-b7cf-9b7844f1c645"
    },
    {
      "name": "w9",
      "type": "thing:label",
      "x": 159,
      "y": 507,
      "width": 31,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "w9",
      "id": "ahoy:ed7b7c5a-81d6-467b-83f9-0f37c241e34b"
    },
    {
      "name": "askance",
      "type": "thing:label",
      "x": 198,
      "y": 507,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffdbdb",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "Pontus",
      "id": "ahoy:c3314cf3-eec2-47f9-b017-c4e8213722b7"
    },
    {
      "name": "aloft",
      "type": "thing:label",
      "x": 161,
      "y": 312,
      "width": 180,
      "height": 67,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 50,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "Chores",
      "id": "ahoy:098f2ca7-76a9-4815-9020-cd1f39495554"
    },
    {
      "name": "current_week",
      "type": "thing:number",
      "x": -266,
      "y": 400,
      "width": 100,
      "height": 24,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "value": 7,
      "enabled": true,
      "id": "ahoy:90fd6cc4-9d19-46ab-8f9d-7b26440c70e3"
    },
    {
      "name": "agog",
      "type": "thing:button",
      "x": 160,
      "y": 376,
      "width": 186,
      "height": 27,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 4,
      "backgroundColor": "#efefef",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "center",
      "title": "Update current week",
      "enabled": true,
      "whenClicked": "const date = new Date();\nconst startOfYear = new Date(date.getFullYear(), 0, 1);\nconst pastDays = (date - startOfYear) / 86400000;\nconst weekNumber = Math.ceil((pastDays + startOfYear.getDay() + 1) / 7);\n\ncurrent_week.value = weekNumber;\n\nforce_week.click()",
      "id": "ahoy:bcd8a89a-1741-4dc3-a910-918fa4d0f6fb"
    },
    {
      "name": "w10",
      "type": "thing:label",
      "x": 159,
      "y": 547,
      "width": 31,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#ffffff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "w10",
      "id": "ahoy:f8f24a98-09cb-4eb0-b019-69b0156858da"
    },
    {
      "name": "ahoy",
      "type": "thing:label",
      "x": 201,
      "y": 546,
      "width": 100,
      "height": 20,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 0,
      "borderRadius": 0,
      "backgroundColor": "#e3c7ff",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 20,
      "textColor": "#000000",
      "alignHorizontal": "left",
      "alignVertical": "top",
      "value": "John",
      "id": "ahoy:8cc8a2c4-6350-4bea-a01d-f03bf4f1fc8e"
    },
    {
      "name": "force_week",
      "type": "thing:button",
      "x": -268,
      "y": 358,
      "width": 186,
      "height": 27,
      "visible": true,
      "borderColor": "#000000",
      "borderWidth": 2,
      "borderRadius": 4,
      "backgroundColor": "#efefef",
      "opacity": 100,
      "fontFamily": "sans-serif",
      "fontSize": 16,
      "textColor": "#000000",
      "alignHorizontal": "center",
      "title": "Force current week",
      "enabled": true,
      "whenClicked": "for (const thing of system.getall()) {\n  const isWeekNumber = /^w([1-9]|[1-4][0-9]|5[0-3])$/.test(thing.name)\n  if (!isWeekNumber) continue;\n\tthing.borderWidth = (thing.name == (\"w\" + current_week.value)) ? 2 : 0;\n}",
      "id": "ahoy:800ba5b9-d862-4225-8c81-9fa95fcd4c6a"
    }
  ]
}
